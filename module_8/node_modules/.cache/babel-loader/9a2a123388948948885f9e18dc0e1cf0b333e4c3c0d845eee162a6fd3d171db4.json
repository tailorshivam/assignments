{"ast":null,"code":"var _jsxFileName = \"D:\\\\VisualProject\\\\ReactProjects\\\\assignments\\\\module_8\\\\src\\\\context\\\\cart-context.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/React.createContext({\n  items: [],\n  totalAmount: 0,\n  addItem: item => {},\n  removeItem: id => {}\n});\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\nconst cartReducer = (state, action) => {\n  if (action.type === 'ADD') {\n    const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\n    const existingIndex = state.items.findIndex(item => item.id === action.item.id);\n    const existingItem = state.items[existingIndex];\n    let updatedItems;\n    if (existingItem) {\n      const updatedItem = {\n        ...existingItem,\n        amount: existingItem.amount + action.item.amount\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  if (action.type === 'REMOVE') {\n    const existingCartItemIndex = state.items.findIndex(item => item.id === action.id);\n    const existingItem = state.items[existingCartItemIndex];\n    if (!existingItem) return state;\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\n    let updatedItems;\n    if (existingItem.amount === 1) {\n      updatedItems = state.items.filter(item => item.id !== action.id);\n    } else {\n      const updatedItem = {\n        ...existingItem,\n        amount: existingItem.amount - 1\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n  return defaultCartState;\n};\nexport const CartProvider = props => {\n  _s();\n  const [cartState, dispatch] = useReducer(cartReducer, defaultCartState);\n  const addItem = item => dispatch({\n    type: 'ADD',\n    item\n  });\n  const removeItem = id => dispatch({\n    type: 'REMOVE',\n    id\n  });\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem,\n    removeItem\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"ShHMboKfVLMQAQaxqVmMzccjbQw=\");\n_c = CartProvider;\nexport default CartContext;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useReducer","jsxDEV","_jsxDEV","CartContext","createContext","items","totalAmount","addItem","item","removeItem","id","defaultCartState","cartReducer","state","action","type","updatedTotalAmount","price","amount","existingIndex","findIndex","existingItem","updatedItems","updatedItem","concat","existingCartItemIndex","filter","CartProvider","props","_s","cartState","dispatch","cartContext","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/VisualProject/ReactProjects/assignments/module_8/src/context/cart-context.js"],"sourcesContent":["import React, { useReducer } from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n});\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingIndex = state.items.findIndex(item => item.id === action.item.id);\r\n    const existingItem = state.items[existingIndex];\r\n    let updatedItems;\r\n\r\n    if (existingItem) {\r\n      const updatedItem = {\r\n        ...existingItem,\r\n        amount: existingItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return { items: updatedItems, totalAmount: updatedTotalAmount };\r\n  }\r\n\r\n  if (action.type === 'REMOVE') {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      item => item.id === action.id\r\n    );\r\n    const existingItem = state.items[existingCartItemIndex];\r\n\r\n    if (!existingItem) return state;\r\n\r\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n    let updatedItems;\r\n\r\n    if (existingItem.amount === 1) {\r\n      updatedItems = state.items.filter(item => item.id !== action.id);\r\n    } else {\r\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nexport const CartProvider = (props) => {\r\n  const [cartState, dispatch] = useReducer(cartReducer, defaultCartState);\r\n\r\n  const addItem = (item) => dispatch({ type: 'ADD', item });\r\n  const removeItem = (id) => dispatch({ type: 'REMOVE', id });\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem,\r\n    removeItem,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContext;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}