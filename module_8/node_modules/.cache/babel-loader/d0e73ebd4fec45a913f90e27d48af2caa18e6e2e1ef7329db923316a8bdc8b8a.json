{"ast":null,"code":"import React,{useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/React.createContext({items:[],totalAmount:0,addItem:item=>{},removeItem:id=>{}});const defaultCartState={items:[],totalAmount:0};const cartReducer=(state,action)=>{if(action.type==='ADD'){const updatedTotalAmount=state.totalAmount+action.item.price*action.item.amount;const existingIndex=state.items.findIndex(item=>item.id===action.item.id);const existingItem=state.items[existingIndex];let updatedItems;if(existingItem){const updatedItem={...existingItem,amount:existingItem.amount+action.item.amount};updatedItems=[...state.items];updatedItems[existingIndex]=updatedItem;}else{updatedItems=state.items.concat(action.item);}return{items:updatedItems,totalAmount:updatedTotalAmount};}if(action.type==='REMOVE'){// Implement later\n}return defaultCartState;};export const CartProvider=props=>{const[cartState,dispatch]=useReducer(cartReducer,defaultCartState);const addItem=item=>dispatch({type:'ADD',item});const removeItem=id=>dispatch({type:'REMOVE',id});const cartContext={items:cartState.items,totalAmount:cartState.totalAmount,addItem,removeItem};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartContext,children:props.children});};export default CartContext;","map":{"version":3,"names":["React","useReducer","jsx","_jsx","CartContext","createContext","items","totalAmount","addItem","item","removeItem","id","defaultCartState","cartReducer","state","action","type","updatedTotalAmount","price","amount","existingIndex","findIndex","existingItem","updatedItems","updatedItem","concat","CartProvider","props","cartState","dispatch","cartContext","Provider","value","children"],"sources":["D:/VisualProject/ReactProjects/assignments/module_8/src/context/cart-context.js"],"sourcesContent":["import React, { useReducer } from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n});\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingIndex = state.items.findIndex(item => item.id === action.item.id);\r\n    const existingItem = state.items[existingIndex];\r\n    let updatedItems;\r\n\r\n    if (existingItem) {\r\n      const updatedItem = {\r\n        ...existingItem,\r\n        amount: existingItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return { items: updatedItems, totalAmount: updatedTotalAmount };\r\n  }\r\n\r\n  if (action.type === 'REMOVE') {\r\n    // Implement later\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nexport const CartProvider = (props) => {\r\n  const [cartState, dispatch] = useReducer(cartReducer, defaultCartState);\r\n\r\n  const addItem = (item) => dispatch({ type: 'ADD', item });\r\n  const removeItem = (id) => dispatch({ type: 'REMOVE', id });\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem,\r\n    removeItem,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContext;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,KAAM,CAAAC,WAAW,cAAGJ,KAAK,CAACK,aAAa,CAAC,CACtCC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,CAAC,CACdC,OAAO,CAAGC,IAAI,EAAK,CAAC,CAAC,CACrBC,UAAU,CAAGC,EAAE,EAAK,CAAC,CACvB,CAAC,CAAC,CAEF,KAAM,CAAAC,gBAAgB,CAAG,CACvBN,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,CACf,CAAC,CAED,KAAM,CAAAM,WAAW,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACrC,GAAIA,MAAM,CAACC,IAAI,GAAK,KAAK,CAAE,CACzB,KAAM,CAAAC,kBAAkB,CACtBH,KAAK,CAACP,WAAW,CAAGQ,MAAM,CAACN,IAAI,CAACS,KAAK,CAAGH,MAAM,CAACN,IAAI,CAACU,MAAM,CAE5D,KAAM,CAAAC,aAAa,CAAGN,KAAK,CAACR,KAAK,CAACe,SAAS,CAACZ,IAAI,EAAIA,IAAI,CAACE,EAAE,GAAKI,MAAM,CAACN,IAAI,CAACE,EAAE,CAAC,CAC/E,KAAM,CAAAW,YAAY,CAAGR,KAAK,CAACR,KAAK,CAACc,aAAa,CAAC,CAC/C,GAAI,CAAAG,YAAY,CAEhB,GAAID,YAAY,CAAE,CAChB,KAAM,CAAAE,WAAW,CAAG,CAClB,GAAGF,YAAY,CACfH,MAAM,CAAEG,YAAY,CAACH,MAAM,CAAGJ,MAAM,CAACN,IAAI,CAACU,MAC5C,CAAC,CACDI,YAAY,CAAG,CAAC,GAAGT,KAAK,CAACR,KAAK,CAAC,CAC/BiB,YAAY,CAACH,aAAa,CAAC,CAAGI,WAAW,CAC3C,CAAC,IAAM,CACLD,YAAY,CAAGT,KAAK,CAACR,KAAK,CAACmB,MAAM,CAACV,MAAM,CAACN,IAAI,CAAC,CAChD,CAEA,MAAO,CAAEH,KAAK,CAAEiB,YAAY,CAAEhB,WAAW,CAAEU,kBAAmB,CAAC,CACjE,CAEA,GAAIF,MAAM,CAACC,IAAI,GAAK,QAAQ,CAAE,CAC5B;AAAA,CAGF,MAAO,CAAAJ,gBAAgB,CACzB,CAAC,CAED,MAAO,MAAM,CAAAc,YAAY,CAAIC,KAAK,EAAK,CACrC,KAAM,CAACC,SAAS,CAAEC,QAAQ,CAAC,CAAG5B,UAAU,CAACY,WAAW,CAAED,gBAAgB,CAAC,CAEvE,KAAM,CAAAJ,OAAO,CAAIC,IAAI,EAAKoB,QAAQ,CAAC,CAAEb,IAAI,CAAE,KAAK,CAAEP,IAAK,CAAC,CAAC,CACzD,KAAM,CAAAC,UAAU,CAAIC,EAAE,EAAKkB,QAAQ,CAAC,CAAEb,IAAI,CAAE,QAAQ,CAAEL,EAAG,CAAC,CAAC,CAE3D,KAAM,CAAAmB,WAAW,CAAG,CAClBxB,KAAK,CAAEsB,SAAS,CAACtB,KAAK,CACtBC,WAAW,CAAEqB,SAAS,CAACrB,WAAW,CAClCC,OAAO,CACPE,UACF,CAAC,CAED,mBACEP,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAEF,WAAY,CAAAG,QAAA,CACtCN,KAAK,CAACM,QAAQ,CACK,CAAC,CAE3B,CAAC,CAED,cAAe,CAAA7B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}